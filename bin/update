#!/bin/bash

function command_exists () { hash "$1" 2>&- ; }

if command_exists brew; then
    bp=$(brew --prefix)

    echo "Updating Homebrew..."
    brew update
    brew upgrade
    brew cleanup

    bp=$(brew --prefix)
    if [ -f $bp/bin/cask ]; then
        brew cask cleanup
    fi
fi

if command_exists pip; then
    echo "Updating pip..."
    pip install --upgrade distribute
    pip install --upgrade pip
    pip install -U `pip list | awk '{print $1}' | grep -v vboxapi` --allow-external PIL --allow-unverified PIL
fi

if [[ -f ~/Code/powerline-shell/powerline-shell.py ]] ; then
    echo "Updating powerline-shell..."
    cd ~/Code/powerline-shell; git pull; cd - > /dev/null
fi

echo "Updating vim..."
vim +PluginInstall! +PluginClean +qall
